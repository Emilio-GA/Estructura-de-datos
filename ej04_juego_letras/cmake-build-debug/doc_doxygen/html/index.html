<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Práctica 5. Juego de las Letras - Árbol para Diccionario: ESTRUCTURA DE ÁRBOL PARA EL DICCIONARIO Y SOLVER</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Práctica 5. Juego de las Letras - Árbol para Diccionario
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ESTRUCTURA DE ÁRBOL PARA EL DICCIONARIO Y SOLVER </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md35"></a>
Introducción</h1>
<p>En esta práctica retomaremos el juego de las letras, manejando una estructura de datos alternativa para tratar de dar una solución más eficiente al mismo.</p>
<p>El juego de las letras consiste en formar la mejor palabra posible, la que de más puntos o la que sea más larga, según modo de juego; a partir de un conjunto de letras extraídas al azar de una bolsa.</p>
<p><span style="color:blue">EJERCICIO 1 - ITERADOR DEL DICCIONARIO.</span></p>
<p>La estructura que actualmente guarda las palabras es un árbol. Procedemos con un ejemplo:</p>
<div class="image">
<img src="ejemploarbol.png" alt=""/>
</div>
<p>Además, tenemos un iterador del árbol que salta de nodo en nodo, pero lo que ahora queremos es <span style="color:red">un iterador sobre este árbol que permita visitar las palabras por orden alfabético</span>. Para ello irá recorriendo cada uno de los nodos de nuestro árbol, y parándose en cada uno de los nodos que esté marcado como final de palabra válida. Este iterador almacenará en su interior un <span style="color:blue">iterador del árbol</span> y una <span style="color:blue">string</span> que representa la palabra actual que estamos visitando.</p>
<div class="image">
<img src="ejemploiterador.png" alt=""/>
</div>
<p><span style="color:blue">EJERCICIO 2.1 - CONTEO DE OCURRENCIAS EN EL ÁRBOL.</span></p>
<p>Este ejercicio se basa en la creación de la función <span style="color:red">getOccurrences(char c) debe devolver el número de ocurrencias del carácter que se pasa como argumento en nuestro árbol</span> Para implementar esta función de forma recursiva, necesitaremos una función auxiliar, que implementaremos como privada, y que recibirá como parámetros el carácter con el que estamos trabajando y el nodo en el que nos encontramos int getOccurrences(node current_node, char c). Dicha función deberá contar las ocurrencias de la letra en el subárbol que cuelga del nodo current_node. Aquí un ejemplo con la "a":</p>
<div class="image">
<img src="ejemploocurrencias.png" alt=""/>
</div>
<p><span style="color:blue">EJERCICIO 2.2 - CONTEO DE USOS EN EL DICCIONARIO.</span></p>
<p>Este ejercicio se basa en la creación de la función <span style="color:red">int getTotalUsages(char c) Esta función se encarga de contar el número de usos de la letra para formar palabras en el diccionario</span>. De nuevo, vamos a resolver este problema utilizando una función auxiliar que trabaje de forma recursiva. pair&lt;int, int&gt; getTotalUsages(node curr_node, char c). Esta función nos va a devolver una pareja de valores, el número de ocurrencias del carácter en los nodos que cuelgan del nodo actual, y el número de palabras que terminan por debajo el nodo actual. Aquí un ejemplo con la "a" y desde el primer nodo:</p>
<div class="image">
<img src="ejemplousos.png" alt=""/>
</div>
<p><span style="color:blue">EJERCICIO 3 - SOLVER INICIAL.</span></p>
<p><span style="color:red"><a class="el" href="classSolver.html">Solver</a> es una clase que tiene que ofrecer la mejor solución para una partida y modo de juego determinado</span>. Como esta solución no tiene por qué ser única (puede haber varias palabras con una misma puntuación), necesitamos poder ofrecer un conjunto de palabras con una misma puntuación. Sus atributos son un <span style="color:blue"><a class="el" href="classDictionary.html" title="--------------------------------—">Dictionary</a></span> con el diccionario de palabras permitidas y un <span style="color:blue"><a class="el" href="classLettersSet.html" title="TDA LettersSet.">LettersSet</a></span> con la información de las letras para poder formar sus soluciones. La función que se encarga de crear la solución es: <span style="color:red">pair&lt; vector&lt;string&gt;, int &gt; getSolutions(const vector&lt;char&gt; &amp; available_letters, bool score_game)</span> Funciona de la siguiente forma:</p>
<div class="image">
<img src="ejemplosolver.png" alt=""/>
</div>
<p><span style="color:blue">EJERCICIO 4 - ITERADOR DE PALABRAS VÁLIDAS.</span></p>
<p><span style="color:red">Es mucho más eficiente recorrer solamente aquellas ramas del árbol que nos van a permitir formar palabras, ignorando aquellas ramificaciones que contengan letras que no tenemos disponibles.</span>. Para cumplir esto, crearemos un iterador sobre el diccionario. Sus atributos son un <span style="color:blue">multiset&lt;char&gt;</span> con las letras permitidas, un <span style="color:blue">int</span> con el nivel del nodo actual, un <span style="color:blue">node</span> con el nodo actual y un <span style="color:blue">string</span> con la palabra. Funciona de la siguiente forma:</p>
<div class="image">
<img src="ejemploitersolver.png" alt=""/>
</div>
<p><span style="color:blue">EJERCICIO 5 - SOLVER EFICIENTE.</span></p>
<p><span style="color:red">o <a class="el" href="classSolver.html">Solver</a> que ataque el problema de las letras con mejor eficiencia en tiempo que el anterior</span>,es decir, utilizando el nuevo iterador. Sus atributos son un <span style="color:blue"><a class="el" href="classDictionary.html" title="--------------------------------—">Dictionary</a></span> con el diccionario de palabras permitidas y un <span style="color:blue"><a class="el" href="classLettersSet.html" title="TDA LettersSet.">LettersSet</a></span> con la información de las letras para poder formar sus soluciones. La función que se encarga de crear la solución es: <span style="color:red">pair&lt; vector&lt;string&gt;, int &gt; getSolutionsEficiente(const vector&lt;char&gt; &amp; available_letters, bool score_game)</span> Funciona de la siguiente forma:</p>
<div class="image">
<img src="ejemplosolvereficiente.png" alt=""/>
</div>
<p><span style="color:blue">EJERCICIO 6 - ANÁLISIS DE EFICIENCIA.</span></p>
<p>Este ejercicio se basa en comparar la eficiencia de las funciones getSolutionsEficiente y getSolutions, y será entregado en archivo aparte.</p>
<h1><a class="anchor" id="autotoc_md36"></a>
Ejecutables</h1>
<h2><a class="anchor" id="autotoc_md37"></a>
diccionario.cpp  (comprueba el iterador del diccionario):</h2>
<p>Se carga el contenido del archivo que se pasa como argumento en un diccionario con estructura de árbol. Se recorre el diccionario creado con un iterador, y se imprimen por pantalla todas sus palabras.</p>
<p>&gt;<em>diccionario</em> &lt;diccionario&gt; </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;diccionario&gt;</td><td>Diccionario donde están las palabras validas.</td></tr>
  </table>
  </dd>
</dl>
<p>En la siguiente imagen se muestra de forma dinámica su funcionamiento</p>
<div class="image">
<img src="ejemplocompiter.png" alt=""/>
</div>
<h2><a class="anchor" id="autotoc_md38"></a>
cantidad_letras.cpp (comprueba las funciones getOccurrences y getTotalUsages )</h2>
<p>Crea el <a class="el" href="classLettersSet.html" title="TDA LettersSet.">LettersSet</a> y el <a class="el" href="classDictionary.html" title="--------------------------------—">Dictionary</a> con la información de los argumentos, y para cada letra del diccionario calculará el número de veces que se usa esa letra y el número de ocurrencias de la letra en la estructura de diccionario.</p>
<p>&gt;<em>cantidad_letras</em> &lt;diccionario&gt; &lt;letras&gt; </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;diccionario&gt;</td><td>Diccionario donde están las palabras validas. </td></tr>
    <tr><td class="paramname">&lt;letras&gt;</td><td>Fichero con las letras y sus respectivas repeticiones y puntuación.</td></tr>
  </table>
  </dd>
</dl>
<p>En la siguiente imagen se muestra de forma dinámica su funcionamiento</p>
<div class="image">
<img src="ejemplocomprecu.png" alt=""/>
</div>
<h2><a class="anchor" id="autotoc_md39"></a>
partida_letras.cpp (comprueba la clase Solver )</h2>
<p>Se encarga de construir el <a class="el" href="classLettersSet.html" title="TDA LettersSet.">LettersSet</a> para la partida a partir del archivo de letras, el <a class="el" href="classDictionary.html" title="--------------------------------—">Dictionary</a> con las palabras que se consideran soluciones correctas, el <a class="el" href="classSolver.html">Solver</a> que va a jugar la partida y la <a class="el" href="classLettersBag.html" title="TDA LettersBag.">LettersBag</a> que se utilizará para extraer las letras. Una vez construidos los TDAs necesarios, extraerá las letras con las que se jugará la partida, utilizará el <a class="el" href="classSolver.html">Solver</a> (getSolutions) para buscar las soluciones, e imprimirá por pantalla tanto las letras para la partida como las mejores soluciones que se pueden obtener con dichas letras y la puntuación de dichas soluciones.</p>
<p>&gt;<em>partida_letras</em> &lt;diccionario&gt; &lt;letras&gt; &lt;modo&gt; &lt;cantletras&gt; </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;diccionario&gt;</td><td>Diccionario donde están las palabras validas. </td></tr>
    <tr><td class="paramname">&lt;letras&gt;</td><td>Fichero con las letras y sus respectivas repeticiones y puntuación. </td></tr>
    <tr><td class="paramname">&lt;modo&gt;</td><td>Modo de juego (L = longitud, P = puntuación) </td></tr>
    <tr><td class="paramname">&lt;cantletras&gt;</td><td>Cantidad de letras para la partida.</td></tr>
  </table>
  </dd>
</dl>
<p>En la siguiente imagen se muestra de forma dinámica su funcionamiento que es igual de la función getSoluciones</p>
<div class="image">
<img src="ejemplosolver.png" alt=""/>
</div>
<h2><a class="anchor" id="autotoc_md40"></a>
palabras_validas_diccionario.cpp (comprueba el Iterador de palabras válidas)</h2>
<p>Se carga el contenido del archivo que se pasa como argumento en un diccionario con estructura de árbol. El resto de argumentos que se pasan en la llamada al programa son las letras disponibles que se utilizan para formar palabras. Se recorre el diccionario creado con un iterador, y se imprimen por pantalla sus palabras válidas según las letras especificadas.</p>
<p>&gt;<em>palabras_validas_diccionario</em> &lt;diccionario&gt; &lt;letras&gt; &lt;modo&gt; &lt;cantletras&gt; </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;diccionario&gt;</td><td>Diccionario donde están las palabras validas. </td></tr>
    <tr><td class="paramname">&lt;letras&gt;</td><td>las letras disponibles que se utilizan para formar palabras.</td></tr>
  </table>
  </dd>
</dl>
<p>En la siguiente imagen se muestra de forma dinámica su funcionamiento</p>
<div class="image">
<img src="ejemplocompitersolver.png" alt=""/>
</div>
<h2><a class="anchor" id="autotoc_md41"></a>
partida_letras_eficiente.cpp (comprueba la clase Solver )</h2>
<p>Se encarga de construir el <a class="el" href="classLettersSet.html" title="TDA LettersSet.">LettersSet</a> para la partida a partir del archivo de letras, el <a class="el" href="classDictionary.html" title="--------------------------------—">Dictionary</a> con las palabras que se consideran soluciones correctas, el <a class="el" href="classSolver.html">Solver</a> que va a jugar la partida y la <a class="el" href="classLettersBag.html" title="TDA LettersBag.">LettersBag</a> que se utilizará para extraer las letras. Una vez construidos los TDAs necesarios, extraerá las letras con las que se jugará la partida, utilizará el <a class="el" href="classSolver.html">Solver</a> (getSolutionsEficiente) para buscar las soluciones, e imprimirá por pantalla tanto las letras para la partida como las mejores soluciones que se pueden obtener con dichas letras y la puntuación de dichas soluciones.</p>
<p>&gt;<em>partida_letras</em> &lt;letras&gt; &lt;diccionario&gt; &lt;modo&gt; &lt;cantletras&gt; </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;diccionario&gt;</td><td>Diccionario donde están las palabras validas. </td></tr>
    <tr><td class="paramname">&lt;letras&gt;</td><td>Fichero con las letras y sus respectivas repeticiones y puntuación. </td></tr>
    <tr><td class="paramname">&lt;modo&gt;</td><td>Modo de juego (L = longitud, P = puntuación) </td></tr>
    <tr><td class="paramname">&lt;cantletras&gt;</td><td>Cantidad de letras para la partida.</td></tr>
  </table>
  </dd>
</dl>
<p>En la siguiente imagen se muestra de forma dinámica su funcionamiento</p>
<div class="image">
<img src="ejemplosolvereficiente.png" alt=""/>
</div>
 </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
